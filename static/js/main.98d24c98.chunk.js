(this["webpackJsonpmetal-genius"]=this["webpackJsonpmetal-genius"]||[]).push([[0],{105:function(e,t,a){e.exports=a(146)},138:function(e,t){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=a(187),l=a(21),s=a(19),u=a(79),d=a(14),m=a(13),f=Object(l.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=/(.*)_(REQUEST|SUCCESS|FAILURE)/.exec(a);if(!r)return e;var c=Object(d.a)(r,3),i=c[1],o=c[2];return"FAILURE"===o?e.set(i,n):e.delete(i)},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=/(.*)_(REQUEST|SUCCESS|FAILURE)/.exec(a);if(!n)return e;var r=Object(d.a)(n,3),c=r[1],i=r[2];return e.set(c,"REQUEST"===i)}}),g=function(e){return"".concat(e,"_REQUEST")},E=function(e){return"".concat(e,"_SUCCESS")},h=function(e){return"".concat(e,"_FAILURE")},p=a(45),b=a(22),v=Object(l.c)({api:f,aggregateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_AGGREGATE_DATA"):return t.payload;default:return e}},artists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_SAMPLE_ARTISTS"):return Object(m.a)(Object(p.keyBy)(t.payload,"id"));default:return e}},artistStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_ARTIST_ANALYSIS"):return e.set(t.payload.id,t.payload);default:return e}},geniusArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_GENIUS_ARTISTS"):var a=Object(m.a)(Object(p.keyBy)(t.payload,"id"));return e.merge(a);default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.b)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_SAMPLE_ARTISTS"):var a=new Set;return t.payload.forEach((function(e){var t=e.genre;return a.add(t)})),Object(m.b)(a);default:return e}},loadedGenres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.b)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_GENRE":return e.add(t.payload);default:return e}},selectedArtist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ARTIST":return t.payload;default:return e}},selectedGenre:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_SAMPLE_ARTISTS"):var a=new Set;t.payload.forEach((function(e){var t=e.genre;return a.add(t)}));var n,r=Object(b.a)(a.keys());try{for(r.s();!(n=r.n()).done;){var c=n.value;return c}}catch(i){r.e(i)}finally{r.f()}break;case"SELECT_GENRE":return t.payload;default:return e}}}),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,S=Object(l.e)(v,y(Object(l.a)(u.a))),j=function(e){var t=e.children;return r.a.createElement(s.a,{store:S},t)},A=a(190),O=a(96),T=a(173),_=Object(A.a)(Object(O.a)({palette:{type:"dark",primary:{main:"#bb86fc"}}})),w=function(e){var t=e.children;return r.a.createElement(T.a,{theme:_},t)},C=a(174),I=a(83),N=a.n(I).a.create({baseURL:"https://metal-genius.herokuapp.com/"}),x=function(e){return{type:"SELECT_ARTIST",payload:e}},R=a(84),k=function(e){return function(t){return!!t.api.loading.isEmpty()||e.some((function(e){return t.api.loading.get(e)}))}},G=Object(R.a)([function(e){return e.selectedGenre},function(e){return e.artists}],(function(e,t){return t.filter((function(t){return t.genre===e})).toList().sortBy((function(e){return e.artist}))})),F=a(7),D=a(177),L=a(42),H=a(189),z=a(175),U=Object(C.a)((function(e){var t;return{bubble:(t={position:"relative",height:100,width:100,margin:8,borderRadius:"50%",border:"2px solid gray",cursor:"pointer"},Object(F.a)(t,e.breakpoints.down("sm"),{height:50,width:50}),Object(F.a)(t,"transition","all .2s ease-in-out"),Object(F.a)(t,"&:hover",{transform:"scale(1.1)"}),Object(F.a)(t,"&:hover > div",{backgroundColor:"rgba(0,0,0,0.7)"}),Object(F.a)(t,"&:hover > span",{opacity:1}),t),background:{zIndex:1,borderRadius:"50%",position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.0)",transition:"background-color 0.3s ease-in-out"},title:{opacity:0,zIndex:2,textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.8rem",transition:"opacity 0.3s ease-in-out"},avatar:{height:"100%",width:"100%"}}})),B=Object(s.b)((function(e){return{artists:e.geniusArtists}}),{selectArtist:x})((function(e){var t=e.id,a=e.artists,n=e.selectArtist,c=U(),i=a.get(t.toString());if(!i)return r.a.createElement(z.a,{className:c.bubble,variant:"circle"});var o=i.image_url,l=i.name;return r.a.createElement("div",{className:c.bubble,onClick:function(){n(t)}},r.a.createElement("div",{className:c.background}),r.a.createElement(L.a,{component:"span",className:c.title},l),r.a.createElement(H.a,{className:c.avatar,alt:l,src:o},"\xa0"))})),M=Object(C.a)((function(e){var t,a;return{root:{display:"flex",alignItems:"center"},row:{display:"flex",justifyContent:"center"},avatar:(t={height:100,width:100},Object(F.a)(t,e.breakpoints.down("sm"),{height:50,width:50}),Object(F.a)(t,"transition","all .2s ease-in-out"),Object(F.a)(t,"&:hover",{transform:"scale(1.1)"}),t),wrapper:(a={height:100,width:100},Object(F.a)(a,e.breakpoints.down("sm"),{height:50,width:50}),Object(F.a)(a,"margin",4),Object(F.a)(a,"display","flex"),Object(F.a)(a,"justifyContent","center"),Object(F.a)(a,"borderRadius","50%"),Object(F.a)(a,"transition","all .2s"),Object(F.a)(a,"&:hover",Object(F.a)({height:110,width:110},e.breakpoints.down("sm"),{height:55,width:55})),a)}})),P=Object(s.b)((function(e){return{artists:G(e),genre:e.selectedGenre}}),{fetchGeniusArtists:function(e){return function(t,a){var n=a(),r=n.selectedGenre;n.loadedGenres.has(r)||(t({type:g("FETCH_GENIUS_ARTISTS")}),t({type:"LOAD_GENRE",payload:r}),function(e){return N.get("/artists/".concat(e))}(e.map((function(e){return e.id})).toJS()).then((function(e){var a=e.data;t({type:E("FETCH_GENIUS_ARTISTS"),payload:a})})).catch((function(e){t({type:h("FETCH_GENIUS_ARTISTS"),payload:"There was an issue getting Genius artist data."})})))}}})((function(e){var t=e.artists,a=e.genre,c=e.fetchGeniusArtists,i=M();Object(n.useEffect)((function(){c(t)}),[a,c,t]);var o=function(e,t){return r.a.createElement("div",{key:t,className:i.row},e.map((function(e){var t=e.id;return r.a.createElement(B,{key:t,id:t})})))};return r.a.createElement("div",{className:i.root},r.a.createElement(D.a,{maxWidth:"lg"},function(){var e=[];return 21===t.size&&(e.push(o(t.slice(0,3),0)),e.push(o(t.slice(3,8),1)),e.push(o(t.slice(8,13),2)),e.push(o(t.slice(13,18),3)),e.push(o(t.slice(18),4))),e}()))})),W=a(193),Y=a(188),Q=a(184),J=a(185),V=a(186),X=a(94),q=a.n(X),K=a(183),Z=a(98),$=a(181),ee=a(178),te=a(179),ae=a(180),ne=Object(C.a)((function(e){return{header:{height:"20%",textAlign:"center",backgroundColor:e.palette.primary.main},content:{height:"80%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}}})),re=function(e){var t=e.title,a=e.content,n=ne();return r.a.createElement(ee.a,null,r.a.createElement(te.a,{className:n.header,title:t}),r.a.createElement(ae.a,{className:n.content},a))},ce=Object(C.a)((function(e){return{avatar:{border:"2px solid ".concat(e.palette.primary.dark),height:150,width:150}}})),ie=function(e){var t=e.artist,a=ce(),n=t.name,c=t.image_url,i=t.url;return r.a.createElement(re,{title:n,content:r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{className:a.avatar,src:c,variant:"circle"}),r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement($.a,{href:i},"Genius Profile"))))})},oe=a(192),le=Object(C.a)((function(e){return{word:{color:"white",fontWeight:"bold"},typography:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:400,minHeight:100},skeleton:{width:"100%"}}})),se=function(e){var t=e.word,a=le(),c=Object(n.useState)(!0),i=Object(d.a)(c,2),o=i[0],l=i[1],s=Object(n.useState)(""),u=Object(d.a)(s,2),m=u[0],f=u[1];return Object(n.useEffect)((function(){fetch("https://api.dictionaryapi.dev/api/v1/entries/en/".concat(t)).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e)){var t=Object(d.a)(e,1)[0].meaning,a=Object.keys(t);if(a.length>0){var n=t[a[0]];if(n.length>0){var r=n[0].definition;f(r)}}}l(!1)}))}),[t]),r.a.createElement(re,{title:"Longest Word",content:r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{className:a.word,color:"primary",label:t}),r.a.createElement(L.a,{className:a.typography,variant:"body1"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:a.skeleton}),r.a.createElement(z.a,{className:a.skeleton}),r.a.createElement(z.a,{className:a.skeleton})):m))})},ue=a(95),de=function(e){var t=e.title,a=e.words;return r.a.createElement(ue.a,{key:t,words:a,minSize:[500,300],options:{fontSizes:[10,80],colors:["#BB86FC","#3C91E6","#30C5FF","#553739"]}})},me=a(182),fe=a(56),ge=a(55),Ee=a(90),he=a.n(Ee),pe=a(91),be=a.n(pe),ve=Object(C.a)((function(e){return{content:{position:"relative",height:225,width:225,display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},shadowArc:{position:"absolute",color:"#424242",zIndex:1},arc:{position:"absolute",zIndex:2},text:{zIndex:3},description:{display:"flex",justifyContent:"center",zIndex:3},icon:{height:"0.85em"},percentText:{fontSize:"0.85rem"}}})),ye=function(e){return r.a.createElement(he.a,Object.assign({style:{color:fe.a[500]}},e))},Se=function(e){return r.a.createElement(be.a,Object.assign({style:{color:ge.a[500]}},e))},je=function(e){var t=e.size,a=e.averageSize,c=ve(),i=Object(n.useState)(0),o=Object(d.a)(i,2),l=o[0],s=o[1],u=Object(n.useRef)(null),m=t>a,f=m?"more":"less",g=m?ye:Se,E=Math.round(Math.abs(t-a)/a*100);Object(n.useEffect)((function(){var e=setTimeout((function(){s(E)}),500);return function(){clearTimeout(e)}}),[E]),Object(n.useEffect)((function(){if(!m&&u){var e=u.current.firstChild.firstChild.style;"-"!==e.strokeDashoffset[0]&&(e.strokeDashoffset="-"+e.strokeDashoffset)}}),[m,l]);return r.a.createElement(re,{title:"Vocabulary Size",content:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.content},r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{className:c.shadowArc,variant:"static",value:100,size:"100%",thickness:1.5}),r.a.createElement(me.a,{ref:u,className:c.arc,variant:"static",value:l,size:"100%",thickness:1.5})),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:c.text,variant:"h3"},t),r.a.createElement("div",{className:c.description},r.a.createElement(g,{classes:{root:c.icon}}),r.a.createElement(L.a,{className:c.percentText,variant:"body1"},"".concat(E,"% ").concat(f," than average"))))))})},Ae=Object(C.a)((function(e){return{root:{flexGrow:1,marginTop:32},rowItem:{height:350,"& > div":{height:"100%",backgroundColor:"#585858"}},paper:{padding:4,textAlign:"center"}}})),Oe=function(e){var t=e.aggregateData,a=e.artist,n=e.stats,c=Ae(),i=t.averageVocabulary,o=a.name,l=n.wordCounts,s=n.longestWord,u=n.vocabularySize,m=l.map((function(e){var t=Object(d.a)(e,2);return{text:t[0],value:t[1]}}));return r.a.createElement(D.a,{className:c.root,maxWidth:"lg"},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:4},r.a.createElement(ie,{artist:a})),r.a.createElement(K.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:4},r.a.createElement(se,{word:s})),r.a.createElement(K.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:4},r.a.createElement(je,{size:u,averageSize:i})),r.a.createElement(K.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Z.a,{className:c.paper},r.a.createElement(de,{title:o,words:m})))))},Te=a(53),_e=a(92),we=a.n(_e),Ce=Object(C.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}),Ie=function(){var e=Ce(),t=Object(Te.a)();return r.a.createElement("div",{className:e.root},r.a.createElement(we.a,{loading:!0,height:50,width:10,color:t.palette.primary.main}))},Ne=Object(C.a)({appBar:{position:"relative"},content:{height:"100%"}}),xe=r.a.forwardRef((function(e,t){return r.a.createElement(W.a,Object.assign({direction:"up",ref:t},e))})),Re=k(["FETCH_ARTIST_ANALYSIS"]),ke=Object(s.b)((function(e){var t=e.selectedArtist,a=e.aggregateData,n=e.geniusArtists,r=e.artistStats;return{loading:Re(e),id:t,aggregateData:a,artist:n.get(t.toString()),stats:r.get(t.toString())}}),{selectArtist:x,fetchArtistAnalysis:function(e){return function(t){t({type:g("FETCH_ARTIST_ANALYSIS")}),function(e){return N.get("/artists/".concat(e,"/lyrics"))}(e).then((function(e){var a=e.data;t({type:E("FETCH_ARTIST_ANALYSIS"),payload:a})})).catch((function(e){t({type:h("FETCH_ARTIST_ANALYSIS"),payload:"There was an issue getting lyrical data."})}))}}})((function(e){var t=e.loading,a=e.id,c=e.aggregateData,i=e.artist,o=e.stats,l=e.selectArtist,s=e.fetchArtistAnalysis,u=Ne();Object(n.useEffect)((function(){a&&s(a)}),[a,s]);var d=function(){l("")};return r.a.createElement(Y.a,{fullScreen:!0,open:Boolean(a),onClose:d,TransitionComponent:xe},r.a.createElement(Q.a,{className:u.appBar,color:"default"},r.a.createElement(J.a,null,r.a.createElement(V.a,{edge:"start",onClick:d},r.a.createElement(q.a,null)))),Boolean(a)&&r.a.createElement("div",{className:u.content},t?r.a.createElement(Ie,null):r.a.createElement(Oe,{aggregateData:c,artist:i,stats:o})))})),Ge=a(3),Fe=Object(C.a)((function(e){var t;return{list:Object(F.a)({display:"flex",justifyContent:"space-evenly",margin:0,padding:0},e.breakpoints.down("xs"),{flexDirection:"column",alignItems:"center"}),listItem:(t={listStyle:"none",fontSize:"1rem"},Object(F.a)(t,e.breakpoints.down("sm"),{fontSize:"0.65rem"}),Object(F.a)(t,e.breakpoints.down("xs"),{paddingBottom:8}),t),unselectedItem:{cursor:"pointer",transition:"all .2s ease-in-out","&:hover":{transform:"scale(1.3)"}},selectedItem:{transform:"scale(1.3)",fontWeight:"bold",textDecoration:"underline"}}})),De=Object(s.b)((function(e){return{selectedGenre:e.selectedGenre,genres:e.genres}}),{selectGenre:function(e){return{type:"SELECT_GENRE",payload:e}}})((function(e){var t=e.selectedGenre,a=e.genres,n=e.selectGenre,c=Fe();return r.a.createElement("div",null,r.a.createElement("ul",{className:c.list},a.map((function(e){var a;return r.a.createElement(L.a,{key:e,className:Object(Ge.a)((a={},Object(F.a)(a,c.listItem,!0),Object(F.a)(a,c.unselectedItem,e!==t),Object(F.a)(a,c.selectedItem,e===t),a)),component:"li",onClick:function(){return n(e)}},e)}))))})),Le=Object(C.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly"}}})),He=k(["FETCH_SAMPLE_ARTISTS","FETCH_AGGREGATE_DATA"]),ze=Object(s.b)((function(e){return{loading:He(e)}}),{fetchArtists:function(){return function(e){e({type:g("FETCH_SAMPLE_ARTISTS")}),N.get("/sample").then((function(t){var a=t.data;e({type:E("FETCH_SAMPLE_ARTISTS"),payload:a})})).catch((function(t){e({type:h("FETCH_SAMPLE_ARTISTS"),payload:"There was an issue loading artist information."})}))}},fetchAggregateData:function(){return function(e){e({type:g("FETCH_AGGREGATE_DATA")}),N.get("/artists/aggregate").then((function(t){var a=t.data;e({type:E("FETCH_AGGREGATE_DATA"),payload:a[0]})})).catch((function(t){e({type:h("FETCH_AGGREGATE_DATA"),payload:"There was an issue loading aggregate artist data."})}))}}})((function(e){var t=e.loading,a=e.fetchArtists,c=e.fetchAggregateData,i=Le();return Object(n.useEffect)((function(){a(),c()}),[a,c]),r.a.createElement("div",{className:i.root},t?r.a.createElement(Ie,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null),r.a.createElement(P,null),r.a.createElement(ke,null)))})),Ue=function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null,r.a.createElement(w,null,r.a.createElement(o.a,null),r.a.createElement(ze,null))))};i.a.render(r.a.createElement(Ue,null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.98d24c98.chunk.js.map