(this["webpackJsonpmetal-genius"]=this["webpackJsonpmetal-genius"]||[]).push([[0],{108:function(e,t,a){e.exports=a(149)},141:function(e,t){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),o=a(193),l=a(23),s=a(16),u=a(84),d=a(15),m=a(14),f=Object(l.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=/(.*)_(REQUEST|SUCCESS|FAILURE)/.exec(a);if(!r)return e;var c=Object(d.a)(r,3),i=c[1],o=c[2];return"FAILURE"===o?e.set(i,n):e.delete(i)},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=/(.*)_(REQUEST|SUCCESS|FAILURE)/.exec(a);if(!n)return e;var r=Object(d.a)(n,3),c=r[1],i=r[2];return e.set(c,"REQUEST"===i)}}),g=function(e){return"".concat(e,"_REQUEST")},E=function(e){return"".concat(e,"_SUCCESS")},h=function(e){return"".concat(e,"_FAILURE")},b=a(47),p=a(24),v=Object(l.c)({api:f,aggregateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_AGGREGATE_DATA"):return t.payload;default:return e}},artists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_SAMPLE_ARTISTS"):return Object(m.a)(Object(b.keyBy)(t.payload,"id"));default:return e}},artistStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_ARTIST_ANALYSIS"):return e.set(t.payload.id,t.payload);default:return e}},geniusArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_GENIUS_ARTISTS"):var a=Object(m.a)(Object(b.keyBy)(t.payload,"id"));return e.merge(a);default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.b)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_SAMPLE_ARTISTS"):var a=new Set;return t.payload.forEach((function(e){var t=e.genre;return a.add(t)})),Object(m.b)(a);default:return e}},loadedGenres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.b)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_GENRE":return e.add(t.payload);default:return e}},selectedArtist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ARTIST":return t.payload;default:return e}},selectedGenre:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E("FETCH_SAMPLE_ARTISTS"):var a=new Set;t.payload.forEach((function(e){var t=e.genre;return a.add(t)}));var n,r=Object(p.a)(a.keys());try{for(r.s();!(n=r.n()).done;){var c=n.value;return c}}catch(i){r.e(i)}finally{r.f()}break;case"SELECT_GENRE":return t.payload;default:return e}}}),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,j=Object(l.e)(v,y(Object(l.a)(u.a))),O=function(e){var t=e.children;return r.a.createElement(s.a,{store:j},t)},S=a(199),A=a(102),T=a(177),w=Object(S.a)(Object(A.a)({palette:{type:"dark",primary:{main:"#bb86fc"}}})),_=function(e){var t=e.children;return r.a.createElement(T.a,{theme:w},t)},C=a(6),x=a(178),I=a(55),N=a(192),k=a(88),R=a.n(k).a.create({baseURL:"https://metal-genius.herokuapp.com/"}),G=function(e){return{type:"SELECT_ARTIST",payload:e}},F=a(89),L=function(e){return function(t){return!!t.api.loading.isEmpty()||e.some((function(e){return t.api.loading.get(e)}))}},D=Object(F.a)([function(e){return e.selectedGenre},function(e){return e.artists}],(function(e,t){return t.filter((function(t){return t.genre===e})).toList().sortBy((function(e){return e.artist}))})),z=a(3),H=a(182),U=a(28),B=a(195),M=a(179),P=Object(x.a)((function(e){var t;return{bubble:(t={position:"relative",height:100,width:100,margin:8,borderRadius:"50%",border:"2px solid gray",cursor:"pointer"},Object(C.a)(t,e.breakpoints.down("sm"),{height:50,width:50}),Object(C.a)(t,"transition","all .2s ease-in-out"),Object(C.a)(t,"&:hover",{transform:"scale(1.1)"}),Object(C.a)(t,"&:hover > div",{backgroundColor:"rgba(0,0,0,0.7)"}),Object(C.a)(t,"&:hover > span",{opacity:1}),t),background:{zIndex:1,borderRadius:"50%",position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.0)",transition:"background-color 0.3s ease-in-out"},title:{opacity:0,zIndex:2,textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.8rem",transition:"opacity 0.3s ease-in-out"},avatar:{height:"100%",width:"100%"}}})),W=Object(s.b)((function(e){return{artists:e.geniusArtists}}),{selectArtist:G})((function(e){var t=e.id,a=e.artists,n=e.selectArtist,c=P(),i=a.get(t.toString());if(!i)return r.a.createElement(M.a,{className:c.bubble,variant:"circle"});var o=i.image_url,l=i.name;return r.a.createElement("div",{className:c.bubble,onClick:function(){n(t)}},r.a.createElement("div",{className:c.background}),r.a.createElement(U.a,{component:"span",className:c.title},l),r.a.createElement(B.a,{className:c.avatar,alt:l,src:o},"\xa0"))})),Y=a(103),Q=a(90),J=a(198),V=a(180),X=a(181),q=Object(s.b)((function(e){return{artists:e.geniusArtists}}),{selectArtist:G})((function(e){var t=e.id,a=e.rowStyle,n=e.artists,c=e.selectArtist,i=n.get(t.toString());if(!i)return r.a.createElement(J.a,{style:a},r.a.createElement(V.a,null,r.a.createElement(M.a,{variant:"circle",height:40,width:40})),r.a.createElement(X.a,{primary:r.a.createElement(M.a,{variant:"text"})}));var o=i.image_url,l=i.name;return r.a.createElement(J.a,{style:a,button:!0,onClick:function(){c(t)}},r.a.createElement(V.a,null,r.a.createElement(B.a,{src:o,alt:l})),r.a.createElement(X.a,{primary:l}))})),K=Object(x.a)((function(e){return{list:{backgroundColor:e.palette.background.paper,borderRadius:8}}})),Z=Object(s.b)((function(e){return{genre:e.selectedGenre}}))((function(e){var t=e.artists,a=e.genre,c=K(),i=Object(n.createRef)();Object(n.useEffect)((function(){i&&i.current&&i.current.scrollTo(0)}),[a,i]);var o=function(e){var a=e.index,n=e.style,c=t.get(a).id;return r.a.createElement(q,{key:a,rowStyle:n,id:c})};return r.a.createElement(Q.a,null,(function(e){var a=e.height,n=e.width;return r.a.createElement(Y.a,{className:c.list,height:a,width:n,itemCount:t.size,itemSize:56,ref:i},o)}))})),$=Object(x.a)((function(e){var t,a;return{root:Object(C.a)({display:"flex",alignItems:"center"},e.breakpoints.down("xs"),{height:"calc(100% - 150px)"}),mobileContainer:{height:"100%",paddingBottom:16},row:{display:"flex",justifyContent:"center"},avatar:(t={height:100,width:100},Object(C.a)(t,e.breakpoints.down("sm"),{height:50,width:50}),Object(C.a)(t,"transition","all .2s ease-in-out"),Object(C.a)(t,"&:hover",{transform:"scale(1.1)"}),t),wrapper:(a={height:100,width:100},Object(C.a)(a,e.breakpoints.down("sm"),{height:50,width:50}),Object(C.a)(a,"margin",4),Object(C.a)(a,"display","flex"),Object(C.a)(a,"justifyContent","center"),Object(C.a)(a,"borderRadius","50%"),Object(C.a)(a,"transition","all .2s"),Object(C.a)(a,"&:hover",Object(C.a)({height:110,width:110},e.breakpoints.down("sm"),{height:55,width:55})),a)}})),ee=Object(s.b)((function(e){return{artists:D(e),genre:e.selectedGenre}}),{fetchGeniusArtists:function(e){return function(t,a){var n=a(),r=n.selectedGenre;n.loadedGenres.has(r)||(t({type:g("FETCH_GENIUS_ARTISTS")}),t({type:"LOAD_GENRE",payload:r}),function(e){return R.get("/artists/".concat(e))}(e.map((function(e){return e.id})).toJS()).then((function(e){var a=e.data;t({type:E("FETCH_GENIUS_ARTISTS"),payload:a})})).catch((function(e){t({type:h("FETCH_GENIUS_ARTISTS"),payload:"There was an issue getting Genius artist data."})})))}}})((function(e){var t=e.mobileLayout,a=void 0!==t&&t,c=e.artists,i=e.genre,o=e.fetchGeniusArtists,l=$();Object(n.useEffect)((function(){o(c)}),[i,o,c]);var s=function(e,t){return r.a.createElement("div",{key:t,className:l.row},e.map((function(e){var t=e.id;return r.a.createElement(W,{key:t,id:t})})))};return r.a.createElement("div",{className:l.root},r.a.createElement(H.a,{maxWidth:"lg",className:Object(z.a)(Object(C.a)({},l.mobileContainer,a))},a?r.a.createElement(Z,{artists:c}):function(){var e=[];return 21===c.size&&(e.push(s(c.slice(0,3),0)),e.push(s(c.slice(3,8),1)),e.push(s(c.slice(8,13),2)),e.push(s(c.slice(13,18),3)),e.push(s(c.slice(18),4))),e}()))})),te=a(197),ae=a(194),ne=a(189),re=a(190),ce=a(191),ie=a(100),oe=a.n(ie),le=a(188),se=a(104),ue=a(186),de=a(183),me=a(184),fe=a(185),ge=Object(x.a)((function(e){return{header:{height:"20%",textAlign:"center",backgroundColor:e.palette.primary.main},content:{height:"80%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}}})),Ee=function(e){var t=e.title,a=e.content,n=ge();return r.a.createElement(de.a,null,r.a.createElement(me.a,{className:n.header,title:t}),r.a.createElement(fe.a,{className:n.content},a))},he=Object(x.a)((function(e){return{avatar:{border:"2px solid ".concat(e.palette.primary.dark),height:150,width:150}}})),be=function(e){var t=e.artist,a=he(),n=t.name,c=t.image_url,i=t.url;return r.a.createElement(Ee,{title:n,content:r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{className:a.avatar,src:c,variant:"circle"}),r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(ue.a,{href:i},"Genius Profile"))))})},pe=a(196),ve=Object(x.a)((function(e){return{word:{color:"white",fontWeight:"bold"},typography:{display:"flex",textAlign:"center",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:400,minHeight:100},skeleton:{width:"100%"}}})),ye=function(e){var t=e.word,a=ve(),c=Object(n.useState)(!0),i=Object(d.a)(c,2),o=i[0],l=i[1],s=Object(n.useState)(""),u=Object(d.a)(s,2),m=u[0],f=u[1];return Object(n.useEffect)((function(){fetch("https://api.dictionaryapi.dev/api/v1/entries/en/".concat(t)).then((function(e){return e.json()})).then((function(e){if(Array.isArray(e)){var t=Object(d.a)(e,1)[0].meaning,a=Object.keys(t);if(a.length>0){var n=t[a[0]];if(n.length>0){var r=n[0].definition;f(r)}}}l(!1)}))}),[t]),r.a.createElement(Ee,{title:"Longest Word",content:r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{className:a.word,color:"primary",label:t}),r.a.createElement(U.a,{className:a.typography,variant:"body1"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:a.skeleton}),r.a.createElement(M.a,{className:a.skeleton}),r.a.createElement(M.a,{className:a.skeleton})):m))})},je=a(101),Oe=[500,300],Se={fontSizes:[10,80],colors:["#BB86FC","#3C91E6","#30C5FF","#553739"]},Ae=function(e){var t=e.title,a=e.words;return r.a.createElement(je.a,{key:t,words:a,minSize:Oe,options:Se})},Te=a(187),we=a(58),_e=a(57),Ce=a(96),xe=a.n(Ce),Ie=a(97),Ne=a.n(Ie),ke=Object(x.a)((function(e){return{content:{position:"relative",height:225,width:225,display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},shadowArc:{position:"absolute",color:"#424242",zIndex:1},arc:{position:"absolute",zIndex:2},text:{zIndex:3},description:{display:"flex",justifyContent:"center",zIndex:3},icon:{height:"0.85em"},percentText:{fontSize:"0.85rem"}}})),Re=function(e){return r.a.createElement(xe.a,Object.assign({style:{color:we.a[500]}},e))},Ge=function(e){return r.a.createElement(Ne.a,Object.assign({style:{color:_e.a[500]}},e))},Fe=function(e){var t=e.size,a=e.averageSize,c=ke(),i=Object(n.useState)(0),o=Object(d.a)(i,2),l=o[0],s=o[1],u=Object(n.useRef)(null),m=t>a,f=m?"more":"less",g=m?Re:Ge,E=Math.round(Math.abs(t-a)/a*100);Object(n.useEffect)((function(){var e=setTimeout((function(){s(E)}),500);return function(){clearTimeout(e)}}),[E]),Object(n.useEffect)((function(){if(!m&&u){var e=u.current.firstChild.firstChild.style;"-"!==e.strokeDashoffset[0]&&(e.strokeDashoffset="-"+e.strokeDashoffset)}}),[m,l]);return r.a.createElement(Ee,{title:"Vocabulary Size",content:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.content},r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{className:c.shadowArc,variant:"static",value:100,size:"100%",thickness:1.5}),r.a.createElement(Te.a,{ref:u,className:c.arc,variant:"static",value:l,size:"100%",thickness:1.5})),r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:c.text,variant:"h3"},t),r.a.createElement("div",{className:c.description},r.a.createElement(g,{classes:{root:c.icon}}),r.a.createElement(U.a,{className:c.percentText,variant:"body1"},"".concat(E,"% ").concat(f," than average"))))))})},Le=Object(x.a)((function(e){return{root:{flexGrow:1,marginTop:32},rowItem:{height:350,"& > div":{height:"100%",backgroundColor:"#585858"}},paper:{padding:4,textAlign:"center"}}})),De=function(e){var t=e.aggregateData,a=e.artist,n=e.stats,c=Le(),i=t.averageVocabulary,o=a.name,l=n.wordCounts,s=n.longestWord,u=n.vocabularySize,m=l.map((function(e){var t=Object(d.a)(e,2);return{text:t[0],value:t[1]}}));return r.a.createElement(H.a,{className:c.root,maxWidth:"lg"},r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:4},r.a.createElement(be,{artist:a})),r.a.createElement(le.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:4},r.a.createElement(ye,{word:s})),r.a.createElement(le.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:4},r.a.createElement(Fe,{size:u,averageSize:i})),r.a.createElement(le.a,{className:c.rowItem,item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(se.a,{className:c.paper},r.a.createElement(Ae,{title:o,words:m})))))},ze=a(98),He=a.n(ze),Ue=Object(x.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}),Be=function(){var e=Ue(),t=Object(I.a)();return r.a.createElement("div",{className:e.root},r.a.createElement(He.a,{loading:!0,height:50,width:10,color:t.palette.primary.main}))},Me=Object(x.a)({appBar:{position:"fixed"},content:{height:"100%"}}),Pe=r.a.forwardRef((function(e,t){return r.a.createElement(te.a,Object.assign({direction:"up",ref:t},e))})),We=L(["FETCH_ARTIST_ANALYSIS"]),Ye=Object(s.b)((function(e){var t=e.selectedArtist,a=e.aggregateData,n=e.geniusArtists,r=e.artistStats;return{loading:We(e),id:t,aggregateData:a,artist:n.get(t.toString()),stats:r.get(t.toString())}}),{selectArtist:G,fetchArtistAnalysis:function(e){return function(t){t({type:g("FETCH_ARTIST_ANALYSIS")}),function(e){return R.get("/artists/".concat(e,"/lyrics"))}(e).then((function(e){var a=e.data;t({type:E("FETCH_ARTIST_ANALYSIS"),payload:a})})).catch((function(e){t({type:h("FETCH_ARTIST_ANALYSIS"),payload:"There was an issue getting lyrical data."})}))}}})((function(e){var t=e.loading,a=e.id,c=e.aggregateData,i=e.artist,o=e.stats,l=e.selectArtist,s=e.fetchArtistAnalysis,u=Me();Object(n.useEffect)((function(){a&&(o||s(a))}),[a,o,s]);var d=function(){l("")};return r.a.createElement(ae.a,{fullScreen:!0,open:Boolean(a),onClose:d,TransitionComponent:Pe},r.a.createElement(ne.a,{className:u.appBar,color:"default"},r.a.createElement(re.a,null,r.a.createElement(ce.a,{edge:"start",onClick:d},r.a.createElement(oe.a,null)))),r.a.createElement(re.a,null),Boolean(a)&&r.a.createElement("div",{className:u.content},t?r.a.createElement(Be,null):r.a.createElement(De,{aggregateData:c,artist:i,stats:o})))})),Qe=Object(x.a)((function(e){var t;return{container:Object(C.a)({},e.breakpoints.down("xs"),{height:150}),list:Object(C.a)({display:"flex",justifyContent:"space-evenly",margin:0,padding:0},e.breakpoints.down("xs"),{height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"}),listItem:(t={listStyle:"none",fontSize:"1rem"},Object(C.a)(t,e.breakpoints.down("sm"),{fontSize:"0.65rem"}),Object(C.a)(t,e.breakpoints.down("xs"),{paddingBottom:8}),t),unselectedItem:{cursor:"pointer",transition:"all .2s ease-in-out","&:hover":{transform:"scale(1.3)"}},selectedItem:{transform:"scale(1.3)",fontWeight:"bold",textDecoration:"underline"}}})),Je=Object(s.b)((function(e){return{selectedGenre:e.selectedGenre,genres:e.genres}}),{selectGenre:function(e){return{type:"SELECT_GENRE",payload:e}}})((function(e){var t=e.selectedGenre,a=e.genres,n=e.selectGenre,c=Qe();return r.a.createElement("div",{className:c.container},r.a.createElement("ul",{className:c.list},a.map((function(e){var a;return r.a.createElement(U.a,{key:e,className:Object(z.a)((a={},Object(C.a)(a,c.listItem,!0),Object(C.a)(a,c.unselectedItem,e!==t),Object(C.a)(a,c.selectedItem,e===t),a)),component:"li",onClick:function(){return n(e)}},e)}))))})),Ve=Object(x.a)((function(e){return{root:Object(C.a)({height:"100%"},e.breakpoints.up("xs"),{display:"flex",flexDirection:"column",justifyContent:"space-evenly"})}})),Xe=L(["FETCH_SAMPLE_ARTISTS","FETCH_AGGREGATE_DATA"]),qe=Object(s.b)((function(e){return{loading:Xe(e)}}),{fetchArtists:function(){return function(e){e({type:g("FETCH_SAMPLE_ARTISTS")}),R.get("/sample").then((function(t){var a=t.data;e({type:E("FETCH_SAMPLE_ARTISTS"),payload:a})})).catch((function(t){e({type:h("FETCH_SAMPLE_ARTISTS"),payload:"There was an issue loading artist information."})}))}},fetchAggregateData:function(){return function(e){e({type:g("FETCH_AGGREGATE_DATA")}),R.get("/artists/aggregate").then((function(t){var a=t.data;e({type:E("FETCH_AGGREGATE_DATA"),payload:a[0]})})).catch((function(t){e({type:h("FETCH_AGGREGATE_DATA"),payload:"There was an issue loading aggregate artist data."})}))}}})((function(e){var t=e.loading,a=e.fetchArtists,c=e.fetchAggregateData,i=Ve(),o=Object(I.a)(),l=Object(N.a)(o.breakpoints.down("xs"));return Object(n.useEffect)((function(){a(),c()}),[a,c]),r.a.createElement("div",{className:i.root},t?r.a.createElement(Be,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null),r.a.createElement(ee,{mobileLayout:l}),r.a.createElement(Ye,null)))})),Ke=function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null,r.a.createElement(_,null,r.a.createElement(o.a,null),r.a.createElement(qe,null))))};i.a.render(r.a.createElement(Ke,null),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.f40386a7.chunk.js.map